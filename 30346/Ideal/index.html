<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>CodePen - Taylor Swift- MIDNIGHTS</title>
    <link href="./style.css" rel="stylesheet">

</head>
<body>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --color-light: #ebeae6;
        --album-size: 580px;
    }

    html,
    body {
        overflow-x: hidden;
        position: relative;
        font-family: "Bebas Neue", Helvetica Neue, Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
        width: 100vw;
        height: 100vh;
    }

    header {
        width: 100%;
        padding: 48px 5vw 8px;
        color: var(--color-light);
        display: flex;
        place-content: center;
        font-size: 24px;
        z-index: 100;
        text-transform: uppercase;
        font-weight: 400;
        letter-spacing: 1px;
    }

    section {
        height: 100%;
        width: 100vw;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        /*    overflow: hidden;*/
        position: relative;
        margin: 40px 0;
    }

    .hero-img {
        background-position: center center;
        background-size: cover;
        width: var(--album-size);
        height: 100%;
        aspect-ratio: 1/1;
        position: absolute;
        z-index: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 12px;
        overflow: hidden;
    }

    .hero-img:after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6));
    }

    .button-container {
        padding: 8px 5vw 24px;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 100;
    }

    .nav-arrow {
        font-family: "Cormorant", "Bebas Neue", Helvetica Neue, Arial, sans-serif;
        font-size: 18px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.2s ease;
        height: 56px;
        background: none;
        border: none;
        color: var(--color-light);
        opacity: 0.3;
        font-weight: 500;
        text-transform: lowercase;
    }

    .nav-arrow span {
        width: 80px;
        height: 2px;
        background: var(--color-light);
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 32px;
    }

    .nav-arrow span:before,
    .nav-arrow span:after,
    .nav-arrow span {
        transition: all 0.3s ease;
    }

    .nav-arrow span:before {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        border: 2px solid var(--color-light);
        left: 4px;
        transform: rotate(-45deg);
        border-bottom: none;
        border-right: none;
    }

    .nav-arrow span:after {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 2px solid var(--color-light);
        right: -14px;
    }

    /* Arrowhead hover effect */
    .nav-arrow:hover span:before,
    .key-press-hover-left span:before,
    .key-press-hover-right span:before {
        width: 32px;
        height: 32px;
    }

    /* Arrowcircle hover effect */
    .nav-arrow:hover span:after,
    .key-press-hover-left span:after,
    .key-press-hover-right span:after {
        width: 48px;
        height: 48px;
        right: -26px;
    }

    /* Arrow body hover effect */
    .nav-arrow:hover span,
    .key-press-hover-left span,
    .key-press-hover-right span {
        width: 72px;
    }

    /* Prev circle */
    .scroll-left:hover span,
    .key-press-hover-left span {
        margin-right: 48px;
    }

    /* Next circle */
    .scroll-right:hover span,
    .key-press-hover-right span {
        margin-left: 48px;
    }

    /* Flips next arrow */
    .scroll-right span {
        margin-left: 32px;
        margin-right: 0;
        transform: rotateY(180deg);
    }

    /* Overwrite margin right 0 of next circle */
    .key-press-hover-right span {
        margin-left: 48px;
    }

    /* Arrow text hover effer */
    .nav-arrow:hover,
    .key-press-hover-left,
    .key-press-hover-right {
        opacity: 1;
        cursor: pointer;
        font-size: 22px;
    }

    h1 {
        font-family: "Cormorant", "Bebas Neue", Helvetica Neue, Arial, sans-serif;
        color: var(--color-light);
        font-size: 96px;
        width: 90vw;
        max-width: 980px;
        display: flex;
        flex-direction: column;
        white-space: nowrap;
        align-items: center;
        font-weight: 500;
        line-height: 130%;
        z-index: 2;
        position: relative;
        text-shadow: 0px 0px 15px rgba(0, 0, 0, 0.6);
        opacity: 0.8;
        bottom: -20%;
        transform-origin: center;
    }

    .album-num {
        position: absolute;
        left: 0;
        top: -18px;
        font-size: 32px;
        font-weight: 500;
        line-height: 1;
        text-shadow: 0px 0px 15px rgba(0, 0, 0, 0.3);
    }

    h1 span {
        width: 100%;
    }

    .album-title {
        text-align: left;
        position: relative;
    }

    h1 span:last-of-type {
        text-align: right;
    }

    .emblem-container {
        --emblem-size: 280px;
        height: var(--emblem-size);
        width: var(--emblem-size);
        position: absolute;
        z-index: 2;
        transform: translate(calc(var(--album-size) / 2), -40%);
    }

    .emblem {
        font-size: 24px;
        color: var(--color-light);
        text-transform: lowercase;
        display: flex;
        align-items: center;
        justify-content: center;
        transform-origin: center center;
        animation: rotating 10s linear infinite;
        height: 100%;
        width: 100%;
        text-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
    }

    @keyframes rotating {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
        }
    }

    /* Each letter of emblem */
    .emblem span {
        position: absolute;
        display: flex;
        height: inherit;
        width: 0;
        justify-content: center;
        align-items: flex-end;
        transform-origin: center center;
        width: 20px;
        text-shadow: 0px 0px 15px rgba(0, 0, 0, 0.4);
    }

    .emblem,
    h1 {
        opacity: 0;
    }

    h1 {
        transform: translateY(15%);
    }

    .album-transition {
        animation: 0.6s ease-out album-transition;
    }

    .show-texts {
        opacity: 1;
        transform: translateY(0px);
        transition-property: opacity, transform;
        transition-duration: 1.4s, 0.5s;
    }

    .hide-arrow {
        opacity: 0;
        pointer-events: none;
    }

    .spotify-widget {
        width: var(--album-size);
        z-index: 100;
        margin-bottom: 8px;
    }

    .spotify-widget iframe {
        border-radius: 12px;
    }

    @keyframes album-transition {
        from {
            clip-path: inset(0 100% 0 0);
        }

        to {
            clip-path: inset(0 0 0 0);
        }
    }

    @media only screen and (max-width: 900px) {
        :root {
            --album-size: 80vw;
        }

        .hero-img {
            height: 100%;
        }

        h1 {
            font-size: 80px;
        }
        .spotify-widget {
            margin-bottom: 24px;
        }
    }

    @media only screen and (max-height: 800px) {
        h1 {
            font-size: 72px;
        }
    }

    @media only screen and (max-height: 740px) {
        h1 {
            font-size: 64px;
            width: 60vw;
        }
        .emblem-container {
            --emblem-size: 200px;
        }
        .emblem {
            font-size: 20px;
        }
        .button-container {
            padding: 8px 5vw 8px;
        }
        .spotify-widget {
            margin-bottom: 0px;
        }
    }
</style>
<header>Taylor Swift Eras</header>
<section>
    <div class="hero-img"></div>

    <div class="emblem-container">
        <div class="emblem text"></div>
    </div>
    <h1 class="text" value="6">
        <span class="album-num"></span>
        <span class="album-title"></span><span>Taylor Swift</span>
    </h1>
</section>
<div class="spotify-widget">
    <iframe allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" allowfullscreen="" frameborder="0" height="80" loading="lazy" src="https://open.spotify.com/embed/album/3lS1y25WAhcqJDATJK70Mq?utm_source=generator" width="100%"></iframe>
</div>
<div class="button-container">
    <button class="scroll-left nav-arrow"><span></span>Prev.</button>
    <button class="scroll-right nav-arrow">Next<span></span></button>
</div>
<!-- partial -->
<script>
  const scrollLeft = document.querySelector(".scroll-left");
  const scrollRight = document.querySelector(".scroll-right");
  const heroDiv = document.querySelector(".hero-img");
  const sectionContainer = document.querySelector("section");
  const bodyContainer = document.querySelector("body");
  const emblemDiv = document.querySelector(".emblem");
  const albumTitleSpan = document.querySelector(".album-title");
  const texts = document.querySelectorAll(".text");
  const albumNum = document.querySelector(".album-num");
  const spotifyWidget = document.querySelector(".spotify-widget iframe");
  const albums = [
    {
      album: "Midnights",
      emblem: "Meet me at midnight",
      "bg-color": ["#53254C", "#0D1827"],
      "accent-color": "#7C2E70",
      url:
        "https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F6%2F2022%2F10%2F20%2FMidnights-Taylor-Swift-01-101922.jpg",
      spotify:
        "https://open.spotify.com/embed/album/3lS1y25WAhcqJDATJK70Mq?utm_source=generator"
    },
    {
      album: "Evermore",
      emblem: "Life was a willow",
      "bg-color": ["#66493D", "#32130F"],
      "accent-color": "#B4653C",
      url: "https://i.scdn.co/image/ab67616d0000b27390fd9741e1838115cd90b3b6",
      spotify:
        "https://open.spotify.com/embed/album/6AORtDjduMM3bupSWzbTSG?utm_source=generator"
    },
    {
      album: "Folklore",
      emblem: "lost in the memory",
      "bg-color": ["#535353", "#181818"],
      "accent-color": "#898989",
      url: "https://i.scdn.co/image/ab67616d0000b27395f754318336a07e85ec59bc",
      spotify:
        "https://open.spotify.com/embed/album/1pzvBxYgT6OVwJLtHkrdQK?utm_source=generator"
    },
    {
      album: "Lover",
      emblem: "I only see daylight",
      "bg-color": ["#BDADB0", "#7A4870"],
      "accent-color": "#873D78",
      url:
        "https://lastfm.freetls.fastly.net/i/u/770x0/8f38633dcc27d6a20f8880c5774af9d5.jpg",
      spotify:
        "https://open.spotify.com/embed/album/1NAmidJlEaVgA3MpcPFYGq?utm_source=generator"
    },
    {
      album: "Reputation",
      emblem: "Let the games begin",
      "bg-color": ["#242424", "#070707"],
      "accent-color": "#505050",
      url:
        "https://i.pinimg.com/originals/cc/f4/56/ccf4564928c46baca09fcc0738ca57f2.jpg",
      spotify:
        "https://open.spotify.com/embed/album/6DEjYFkNZh67HP7R9PSZvv?utm_source=generator"
    },
    {
      album: "1989",
      emblem: "Love's a game wanna play",
      "bg-color": ["#A88172", "#653E32"],
      "accent-color": "#DF9882",
      url: "https://i.scdn.co/image/ab67616d0000b273b7fe6e9265a84c3b6eb66d34",
      spotify:
        "https://open.spotify.com/embed/album/34OkZVpuzBa9y40DCy0LPR?utm_source=generator"
    },
    {
      album: "Red",
      emblem: "loving him was red",
      "bg-color": ["#660E11", "#210402"],
      "accent-color": "#9E4E23",
      url: "https://i.scdn.co/image/ab67616d0000b273318443aab3531a0558e79a4d",
      spotify:
        "https://open.spotify.com/embed/album/6kZ42qRrzov54LcAk4onW9?utm_source=generator"
    },
    {
      album: "Speak Now",
      emblem: "sparks flew instantly",
      "bg-color": ["#62252A", "#4B0102"],
      "accent-color": "#E50619",
      url:
        "https://mir-s3-cdn-cf.behance.net/project_modules/fs/73a7cf47610727.588f690bb7f29.jpg",
      spotify:
        "https://open.spotify.com/embed/album/5EpMjweRD573ASl7uNiHym?utm_source=generator"
    },
    {
      album: "Fearless",
      emblem: "baby just say yes",
      "bg-color": ["#a8834a", "#644323"],
      "accent-color": "#CEA766",
      url: "https://i.scdn.co/image/ab67616d0000b273a48964b5d9a3d6968ae3e0de",
      spotify:
        "https://open.spotify.com/embed/album/4hDok0OAJd57SGIT8xuWJH?utm_source=generator"
    },

    {
      album: "Self-Titled",
      emblem: "wishing on a wishing star",
      "bg-color": ["#6F6F4C", "#34351E"],
      "accent-color": "#B2C15E",
      url:
        "https://i.pinimg.com/originals/5a/62/10/5a6210fa476de13afb5a6e07d5ae7dd2.jpg",
      spotify:
        "https://open.spotify.com/embed/album/7mzrIsaAjnXihW3InKjlC3?utm_source=generator"
    }
  ];

  // Add Event Listeners
  scrollLeft.addEventListener("click", () => handleClickScroll(-1));
  scrollRight.addEventListener("click", () => handleClickScroll(1));
  heroDiv.addEventListener("animationend", () => {
    heroDiv.classList.remove("album-transition");
    document.addEventListener("keydown", handleKeyScroll);
    scrollLeft.disabled = false;
    scrollRight.disabled = false;
    scrollLeft.classList.remove("key-press-hover-left");
    scrollRight.classList.remove("key-press-hover-right");

    for (const text of texts) text.classList.add("show-texts");
  });

  // Event Listeners
  const handleClickScroll = (val) => {
    if (index + val >= 0 && index + val < albums.length) {
      updateDisplay((index += val));
    }
  };

  const handleKeyScroll = (e) => {
    if (e.key == "ArrowLeft") {
      scrollLeft.classList.add("key-press-hover-left");
      handleClickScroll(-1);
    }
    if (e.key == "ArrowRight") {
      scrollRight.classList.add("key-press-hover-right");
      handleClickScroll(1);
    }
  };

  // Main Function
  let index = 0;

  const updateDisplay = (index) => {
    // SET DELIMITER
    let DELIMITER = "";

    // delcare album specified by index
    const album = albums[index];

    // reset all animations and disable button
    for (const text of texts) text.classList.remove("show-texts");
    emblemDiv.innerHTML = "";
    scrollLeft.disabled = true;
    scrollRight.disabled = true;
    document.removeEventListener("keydown", handleKeyScroll);

    // add css classes, texts, and styles
    sectionContainer.id = `hero-${album.album.toLowerCase().replace(" ", "-")}`;
    bodyContainer.style.background = `linear-gradient(180deg, ${album["bg-color"][0]} 0%, ${album["bg-color"][1]} 100%)`;
    heroDiv.style.backgroundImage = `url(${album.url})`;
    albumTitleSpan.textContent = album.album;
    spotifyWidget.src = album.spotify;

    const number = albums.length - index;
    albumNum.innerText = number >= 10 ? number + "." : `0${number}.`;
    albumNum.style.color = album["accent-color"];

    // hide arrows
    if (index === 0) scrollLeft.classList.add("hide-arrow");
    else scrollLeft.classList.remove("hide-arrow");

    if (index === 9) scrollRight.classList.add("hide-arrow");
    else scrollRight.classList.remove("hide-arrow");

    // create emblem
    createEmblem(album.emblem, DELIMITER[0] || undefined).forEach((node) =>
      emblemDiv.append(node)
    );

    // add final animations
    heroDiv.classList.add("album-transition");
  };

  const createEmblem = (string, delimiter = "â€¢") => {
    const spans = [];

    string = string.trim().replaceAll(" ", delimiter) + delimiter;
    const numChars = string.length;
    const degVal = 90 / (numChars / 4);

    string.split("").forEach((char, idx) => {
      const span = document.createElement("span");
      span.innerText = char;
      span.style.transform = `rotate(${180 - degVal * idx}deg)`;
      if (char === delimiter) span.style.color = albums[index]["accent-color"];
      spans.push(span);
    });

    return spans;
  };

  // Start Script
  updateDisplay(index);
</script>

</body>
</html>
